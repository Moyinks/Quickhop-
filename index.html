<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventario | Sales & Stock Manager</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="loginScreen" class="login-screen">
        <div class="login-card">
            <h1>Inventario</h1>
            <p class="tagline">Sales & Stock Management</p>

            <div class="form-group">
                <input type="email" id="loginEmail" placeholder="Email" required>
            </div>
            <div class="form-group">
                <input type="password" id="loginPass" placeholder="Password" required>
            </div>

            <div class="auth-feedback" id="authFeedback"></div>

            <div class="auth-actions">
                <button id="btnLogin" class="btn btn-primary">Log In</button>
                <button id="btnSignup" class="btn btn-secondary">Sign Up</button>
            </div>
            <div class="small">Use a strong password (min. 6 characters)</div>
        </div>
    </div>


    <div class="app" style="display: none;">

        <header>
            <div class="search-bar">
                <input type="search" id="searchInput" class="search" placeholder="Search products...">
                <button id="btnSettings" class="icon-btn" aria-label="Settings">‚öôÔ∏è</button>
                <button id="btnLogout" class="icon-btn btn-danger" aria-label="Log Out">üö™</button>
            </div>
        </header>

        <main class="content-panels">
            
            <div id="homePanel" class="panel active">
                <h2 class="panel-heading">Today's Performance</h2>
                
                <div class="dashboard-grid">
                    <div class="card stat-card">
                        <div class="stat-label">Revenue</div>
                        <div id="dashRevenue" class="stat-value">N0</div>
                    </div>
                    <div class="card stat-card">
                        <div class="stat-label">Profit</div>
                        <div id="dashProfit" class="stat-value">N0</div>
                    </div>
                    <div class="card stat-card">
                        <div class="stat-label">Top Seller (Today)</div>
                        <div id="dashTop" class="stat-value">‚Äî</div>
                    </div>
                </div>

                <h2 class="panel-heading">AI Assistant Insights</h2>
                <div class="card ai-card">
                    <div id="aiContent" class="ai-content">
                        <p class="small">Log in and make some sales to generate insights.</p>
                    </div>
                    <button class="btn btn-text btn-small">Refresh Insights</button>
                </div>

                <h2 class="panel-heading">Quick Sell</h2>
                <div id="chips" class="chips-container">
                    </div>
                
                <div id="productList" class="product-list">
                    <p class="small" style="text-align: center;">Loading products...</p>
                </div>
            </div>

            <div id="inventoryPanel" class="panel">
                <h2 class="panel-heading">Inventory Management</h2>
                
                <div class="form-toggle-bar">
                    <button id="toggleAddFormBtn" class="btn btn-primary">Add New</button>
                    <button id="btnLoadDemo" class="btn btn-text">Load Demo Data</button>
                </div>

                <form id="addForm" class="add-form card" style="display: none;">
                    <h3>Product Details</h3>
                    <div class="form-group">
                        <input type="text" id="invName" placeholder="Product Name" required>
                    </div>
                    <div class="form-group form-inline">
                        <input type="number" id="invPrice" placeholder="Selling Price (NGN)" step="any" required>
                        <input type="number" id="invCost" placeholder="Cost Price (NGN)" step="any" required>
                    </div>
                    <div class="form-group form-inline">
                        <input type="number" id="invQty" placeholder="Starting Quantity" value="1" required>
                        <select id="invCategory">
                            <option value="Electronics">Electronics</option>
                            <option value="Beverages">Beverages</option>
                            <option value="Clothing">Clothing</option>
                            <option value="Others">Others</option>
                        </select>
                    </div>
                    <div class="form-group file-upload">
                        <label for="invImg" class="btn btn-secondary">Upload Image</label>
                        <input type="file" id="invImg" accept="image/*">
                        <div id="invImgPreview" class="image-preview" style="display: none;">
                            <img id="invImgPreviewImg" src="" alt="Product Image">
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" id="addProductBtn" class="btn btn-primary">Save Product</button>
                        <button type="button" id="formCancelBtn" class="btn btn-secondary">Cancel</button>
                    </div>
                </form>

                <div id="inventoryList" class="inventory-list product-list">
                    </div>
            </div>

            <div id="reportsPanel" class="panel">
                <h2 class="panel-heading">Sales Reports</h2>
                <div class="dashboard-grid">
                    <div class="card stat-card">
                        <div class="stat-label">Total Revenue (All Time)</div>
                        <div id="reportMini" class="stat-value">N0</div>
                    </div>
                    <div class="card stat-card">
                        <div class="stat-label">Date Filter</div>
                        <select id="reportFilter" class="stat-value">
                            <option value="all">All Time</option>
                            <option value="today">Today</option>
                            <option value="week">Last 7 Days</option>
                        </select>
                    </div>
                </div>

                <div id="reportBreakdown">
                    </div>
            </div>

            <div id="notesPanel" class="panel">
                <h2 class="panel-heading">Quick Notes</h2>

                <form id="noteForm" class="note-form card">
                    <div class="form-group">
                        <input type="text" id="noteTitle" placeholder="Note Title (Optional)">
                    </div>
                    <div class="form-group">
                        <textarea id="noteContent" placeholder="Write your note here..." rows="4" required></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="submit" id="noteSaveBtn" class="btn btn-primary">Save Note</button>
                        <button type="button" id="noteCancelBtn" class="btn btn-secondary">Clear</button>
                    </div>
                </form>

                <div id="notesList">
                    </div>
            </div>

            <div id="settingsPanel" class="panel">
                <h2 class="panel-heading">Settings</h2>
                <div class="settings-group card">
                    <h3>Account</h3>
                    <button id="btnLogout2" class="btn btn-danger">Log Out</button>
                </div>
                <div class="settings-group card">
                    <h3>About</h3>
                    <p class="small">Inventario v1.0 - Built for small business stock management.</p>
                </div>
            </div>
            
        </main>

        <nav class="bottom-nav">
            <button class="nav-btn active" data-view="home" aria-selected="true">
                <span class="icon">üè†</span>
                <span class="label">Home</span>
            </button>
            <button class="nav-btn" data-view="inventory" aria-selected="false">
                <span class="icon">üì¶</span>
                <span class="label">Inventory</span>
            </button>
            <button class="nav-btn" data-view="reports" aria-selected="false">
                <span class="icon">üìä</span>
                <span class="label">Reports</span>
            </button>
            <button class="nav-btn" data-view="notes" aria-selected="false">
                <span class="icon">üìù</span>
                <span class="label">Notes</span>
            </button>
        </nav>
    </div>

    <div id="modalBackdrop" class="modal-backdrop" aria-hidden="true">
        <div class="modal-content">
            <h3 id="modalTitle">Process Sale</h3>
            <p id="modalItem" class="modal-item">Item Name (Stock: 10)</p>
            
            <div class="form-group">
                <label for="modalQty">Quantity:</label>
                <input type="number" id="modalQty" value="1" min="1">
            </div>

            <div class="form-actions">
                <button id="modalConfirm" class="btn btn-primary">Record Sale</button>
                <button id="modalCancel" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <div id="toastContainer" class="toast-container">
        </div>
    <script type="module" src="app.js"></script>
</body>
</html>
